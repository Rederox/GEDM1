{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}


{% block body %}
	<style>
		.fontRighteous{
			font-family: 'Righteous', regular;
		}
		.shadow-text{
			text-shadow: 0px 1px 6px rgba(0, 0, 0, 1);
		}
		.box{
			width: 100%;
			height: 70vh;
			background-color: #1a1a1a;
			border-radius: 10px;
			padding: 20px;
		}
	</style>


	<div class="d-flex col">
		<div>
			{% include 'admin/components/sideBar.html.twig' %}
		</div>
		<div class="col">
			<h1 class="text-center">Utilisateurs</h1>
            <div class="d-flex row gap-5 justify-content-start m-5">
				<div class='d-flex col gap-5'>
					<div class="bg-lighterBlue rounded-2 p-3">
						<h4 class="text-start text-white fontRighteous fw-bold">Nombre d'utilisateurs</h4>
						<h1 class="text-start fw-bold text-white shadow-text">{{homeInformations.userCount}}</h1>
					</div>
				</div>
				<div class='bg-secondary box m-2'>
					<h2>Liste des Utilisateurs</h2>
					<table class="table table-striped table-hover table-responsive">
  <thead>
    <tr>
      <th>Id</th>
      <th>Nom</th>
      <th>Prenom</th>
      <th>Email</th>
      <th>Roles</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in homeInformations.usersList %}
      <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.getLastName }}</td>
        <td>{{ user.getFirstName }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.getRoles | join(', ') }}</td>
        <td>
          <a href="{{ path('app_users_show', {'id': user.id}) }}" class="btn btn-primary btn-sm">show</a>
          <a href="{{ path('app_admin_users_edit', {'id': user.id}) }}" class="btn btn-secondary btn-sm">edit</a>
        </td>          
      </tr>
    {% endfor %}
  </tbody>
</table>

					
				</div>
            </div>
		</div>
	</div>
{% endblock %}
